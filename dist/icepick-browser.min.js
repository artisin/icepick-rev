/*!
 * The MIT License
 * 
 * Copyright (c) 2017 Alex Early
 * https://github.com/aearly/icepick
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.icepick=r():n.icepick=r()}(this,function(){return function(n){function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r.p="",r(r.s=0)}([function(n,r,t){"use strict";(function(n){function t(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function e(n,r){return(r||[]).reduce(function(n,r){if(n)return n[r]},n)}function o(n,r){return Object.keys(r).reduce(function(n,t){return s.assoc(n,t,r[t])},n)}function i(r,t,e){return null==r||null==t?r:Object.keys(t).reduce(function(r,o){var u=t[o],f=r[o],l=e?e(f,u,o):u;return a(u)&&a(f)?l===f&&("production"===n.env.NODE_ENV||Object.isFrozen(l)&&Object.isFrozen(f))?r:Array.isArray(u)?s.assoc(r,o,l):c(r,o,i(f,l,e)):c(r,o,l)},r)}function c(n,r,t){return n[r]===t?n:s.assoc(n,r,t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s=r,f=function(n){return n},a=function(n){return null!==n&&(Array.isArray(n)||l(n))},l=function(n){return"object"===(void 0===n?"undefined":u(n))&&n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype},p=function(n,r){var t=void 0,e=void 0;if(Array.isArray(n))for(t=n.length;t--;)r(t);else for(e=Object.keys(n),t=e.length;t--;)r(e[t])},h=function(n){for(var r={},t=Object.keys(n),e=t.length,o=void 0;e--;)o=t[e],r[o]=n[o];return r},y=function(n){return Array.isArray(n)?n.slice():h(n)},v="production"===n.env.NODE_ENV?f:function(n){return a(n)&&!Object.isFrozen(n)?b(n):n},d="production"===n.env.NODE_ENV?f:function(n){return"object"===(void 0===n?"undefined":u(n))?Object.freeze(n):n},m=[],b=function n(r){if(m.some(function(n){return n===r}))throw new Error("object has a reference cycle");return m.push(r),p(r,function(t){var e=r[t];a(e)&&n(e)}),m.pop(),Object.freeze(r),r};r.freeze="production"===n.env.NODE_ENV?f:b,r.thaw=function n(r){if(!a(r)||!Object.isFrozen(r))return r;var t=Array.isArray(r)?new Array(r.length):{};return p(r,function(e){t[e]=n(r[e])}),t},r.assoc=function(n,r,t){if(n[r]===t)return d(n);var e=y(n);return e[r]=v(t),d(e)},r.set=r.assoc,r.dissoc=function(n,r){var t=y(n);return delete t[r],d(t)},r.unset=r.dissoc,r.assocIn=function n(r,t,e){var o=t[0];return 1===t.length?s.assoc(r,o,e):s.assoc(r,o,n(r[o]||{},t.slice(1),e))},r.setIn=r.assocIn,r.dissocIn=function n(r,t){var e=t[0];return r.hasOwnProperty(e)?1===t.length?s.dissoc(r,e):s.assoc(r,e,n(r[e],t.slice(1))):r},r.unsetIn=r.dissocIn,r.getIn=e,r.updateIn=function(n,r,t){var o=e(n,r);return s.assocIn(n,r,t(o))},["push","unshift","pop","shift","reverse","sort"].forEach(function(n){r[n]=function(r,e){var o=[].concat(t(r));return o[n](v(e)),d(o)},r[n].displayName="icepick."+n}),r.splice=function(n){for(var r=[].concat(t(n)),e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var c=o.map(v);return r.splice.apply(r,c),d(r)},r.slice=function(n,r,t){var e=n.slice(r,t);return d(e)},["map","filter"].forEach(function(n){r[n]=function(r,t){var e=t[n](r);return d(e)},r[n].displayName="icepick."+n}),r.extend=r.assign=function(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];var i=t.reduce(o,n);return d(i)},r.merge=i;var g={value:function(){return this.val},thru:function(n){return this.val=v(n(this.val)),this}};Object.keys(r).forEach(function(n){if(n.match(/^(map|filter)$/))return void(g[n]=function(t){return this.val=r[n](t,this.val),this});g[n]=function(){for(var t,e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return this.val=(t=r)[n].apply(t,[this.val].concat(o)),this}}),r.chain=function(n){var r=Object.create(g);return r.val=n,r},"development"!==n.env.NODE_ENV&&"production"!==n.env.NODE_ENV&&(r._weCareAbout=a)}).call(r,t(1))},function(n,r){function t(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(n){if(a===setTimeout)return setTimeout(n,0);if((a===t||!a)&&setTimeout)return a=setTimeout,setTimeout(n,0);try{return a(n,0)}catch(r){try{return a.call(null,n,0)}catch(r){return a.call(this,n,0)}}}function i(n){if(l===clearTimeout)return clearTimeout(n);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(r){try{return l.call(null,n)}catch(r){return l.call(this,n)}}}function c(){v&&h&&(v=!1,h.length?y=h.concat(y):d=-1,y.length&&u())}function u(){if(!v){var n=o(c);v=!0;for(var r=y.length;r;){for(h=y,y=[];++d<r;)h&&h[d].run();d=-1,r=y.length}h=null,v=!1,i(n)}}function s(n,r){this.fun=n,this.array=r}function f(){}var a,l,p=n.exports={};!function(){try{a="function"==typeof setTimeout?setTimeout:t}catch(n){a=t}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(n){l=e}}();var h,y=[],v=!1,d=-1;p.nextTick=function(n){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];y.push(new s(n,r)),1!==y.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}])});